'use client'
import React, { useEffect } from 'react'
import useLocalStorage from '../hooks/useLocalStorage'
import SidebarItem from './SidebarItem'

interface SidebarProps {
  sidebarOpen: boolean
  setSidebarOpen: (arg: boolean) => void
}

const menuGroups = [
  {
    menuItems: [
      {
        icon: (
          <svg
            width="34"
            height="24"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M1.18854 8.65233C0.460356 10.1712 0.715975 11.9477 1.22721 15.5007L1.6028 18.111C2.25952 22.675 2.58787 24.957 4.17108 26.3202C5.75428 27.6835 8.07611 27.6835 12.7198 27.6835H15.7003C20.3439 27.6835 22.6658 27.6835 24.249 26.3202C25.8322 24.957 26.1605 22.675 26.8172 18.111L27.1928 15.5007C27.7041 11.9477 27.9597 10.1712 27.2315 8.65233C26.5033 7.13342 24.9534 6.21014 21.8536 4.36358L19.9877 3.25211C17.1727 1.57525 15.7653 0.736816 14.21 0.736816C12.6548 0.736816 11.2473 1.57525 8.43232 3.25211L6.56648 4.36358C3.46664 6.21014 1.91672 7.13342 1.18854 8.65233ZM14.21 23.3046C13.6519 23.3046 13.1995 22.8522 13.1995 22.2941V18.2521C13.1995 17.6941 13.6519 17.2416 14.21 17.2416C14.7681 17.2416 15.2205 17.6941 15.2205 18.2521V22.2941C15.2205 22.8522 14.7681 23.3046 14.21 23.3046Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
          </svg>
        ),
        iconNotActive: (
          <svg
            width="34"
            height="24"
            viewBox="0 0 28 28"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M1.18854 8.65208C0.460356 10.171 0.715975 11.9475 1.22721 15.5005L1.6028 18.1107C2.25952 22.6747 2.58787 24.9567 4.17108 26.32C5.75428 27.6832 8.07611 27.6832 12.7198 27.6832H15.7003C20.3439 27.6832 22.6658 27.6832 24.249 26.32C25.8322 24.9567 26.1605 22.6747 26.8172 18.1107L27.1928 15.5005C27.7041 11.9475 27.9597 10.171 27.2315 8.65208C26.5033 7.13317 24.9534 6.2099 21.8536 4.36334L19.9877 3.25187C17.1727 1.575 15.7653 0.736572 14.21 0.736572C12.6548 0.736572 11.2473 1.575 8.43232 3.25187L6.56648 4.36334C3.46664 6.2099 1.91672 7.13317 1.18854 8.65208ZM14.21 23.3044C13.6519 23.3044 13.1995 22.852 13.1995 22.2939V18.2519C13.1995 17.6938 13.6519 17.2414 14.21 17.2414C14.7681 17.2414 15.2205 17.6938 15.2205 18.2519V22.2939C15.2205 22.852 14.7681 23.3044 14.21 23.3044Z"
              fill="#A8E543"
            />
          </svg>
        ),

        label: 'Dashboard',
        route: '/admin/dashboard',
      },
      {
        icon: (
          <svg
            width="34"
            height="30"
            viewBox="0 0 40 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24.6667 14.4198C24.6667 16.9972 22.5773 19.0865 20 19.0865C17.4227 19.0865 15.3333 16.9972 15.3333 14.4198C15.3333 11.8425 17.4227 9.75317 20 9.75317C22.5773 9.75317 24.6667 11.8425 24.6667 14.4198Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M28 26.4198C28 28.9972 24.4183 31.0865 20 31.0865C15.5817 31.0865 12 28.9972 12 26.4198C12 23.8425 15.5817 21.7532 20 21.7532C24.4183 21.7532 28 23.8425 28 26.4198Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M13.4961 11.0867C13.7327 11.0867 13.9637 11.1099 14.1867 11.1541C13.6433 12.1193 13.3333 13.2334 13.3333 14.42C13.3333 15.5777 13.6284 16.6664 14.1475 17.6152C13.9366 17.6544 13.7188 17.675 13.4961 17.675C11.6102 17.675 10.0814 16.2002 10.0814 14.3808C10.0814 12.5615 11.6102 11.0867 13.4961 11.0867Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M11.2631 29.7346C10.5059 28.8294 10 27.7187 10 26.42C10 25.161 10.4754 24.0787 11.1944 23.189C8.6548 23.386 6.66667 24.7749 6.66667 26.4592C6.66667 28.1592 8.68974 29.5584 11.2631 29.7346Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M26.6666 14.42C26.6666 15.5777 26.3715 16.6664 25.8524 17.6152C26.0633 17.6544 26.2811 17.675 26.5038 17.675C28.3897 17.675 29.9185 16.2002 29.9185 14.3808C29.9185 12.5615 28.3897 11.0867 26.5038 11.0867C26.2672 11.0867 26.0362 11.1099 25.8131 11.1541C26.3566 12.1193 26.6666 13.2334 26.6666 14.42Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M28.7368 29.7346C31.3101 29.5584 33.3332 28.1592 33.3332 26.4592C33.3332 24.7749 31.3451 23.386 28.8055 23.189C29.5245 24.0787 29.9999 25.161 29.9999 26.42C29.9999 27.7187 29.494 28.8294 28.7368 29.7346Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
          </svg>
        ),
        iconNotActive: (
          <svg
            width="34"
            height="30"
            viewBox="0 0 40 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M24.6667 14.4196C24.6667 16.9969 22.5773 19.0863 20 19.0863C17.4227 19.0863 15.3333 16.9969 15.3333 14.4196C15.3333 11.8423 17.4227 9.75293 20 9.75293C22.5773 9.75293 24.6667 11.8423 24.6667 14.4196Z"
              fill="#A8E543"
            />
            <path
              d="M28 26.4196C28 28.9969 24.4183 31.0863 20 31.0863C15.5817 31.0863 12 28.9969 12 26.4196C12 23.8423 15.5817 21.7529 20 21.7529C24.4183 21.7529 28 23.8423 28 26.4196Z"
              fill="#A8E543"
            />
            <path
              d="M13.4961 11.0869C13.7327 11.0869 13.9637 11.1101 14.1867 11.1543C13.6433 12.1195 13.3333 13.2337 13.3333 14.4202C13.3333 15.5779 13.6284 16.6667 14.1475 17.6154C13.9366 17.6547 13.7188 17.6753 13.4961 17.6753C11.6102 17.6753 10.0814 16.2004 10.0814 14.3811C10.0814 12.5618 11.6102 11.0869 13.4961 11.0869Z"
              fill="#A8E543"
            />
            <path
              d="M11.2631 29.7349C10.5059 28.8297 10 27.7189 10 26.4202C10 25.1613 10.4754 24.0789 11.1944 23.1892C8.6548 23.3862 6.66667 24.7752 6.66667 26.4594C6.66667 28.1595 8.68974 29.5587 11.2631 29.7349Z"
              fill="#A8E543"
            />
            <path
              d="M26.6666 14.4202C26.6666 15.5779 26.3715 16.6667 25.8524 17.6154C26.0633 17.6547 26.2811 17.6753 26.5038 17.6753C28.3897 17.6753 29.9185 16.2004 29.9185 14.3811C29.9185 12.5618 28.3897 11.0869 26.5038 11.0869C26.2672 11.0869 26.0362 11.1101 25.8131 11.1543C26.3566 12.1195 26.6666 13.2337 26.6666 14.4202Z"
              fill="#A8E543"
            />
            <path
              d="M28.7368 29.7349C31.3101 29.5587 33.3332 28.1595 33.3332 26.4594C33.3332 24.7752 31.3451 23.3862 28.8055 23.1892C29.5245 24.0789 29.9999 25.1613 29.9999 26.4202C29.9999 27.7189 29.494 28.8297 28.7368 29.7349Z"
              fill="#A8E543"
            />
          </svg>
        ),

        label: 'All Users',
        route: '/admin/all-users',
      },
      {
        icon: (
          <svg
            width="34"
            height="24"
            viewBox="0 0 26 27"
            fill="none"
            xmlns="http://www.w3.org/2000/  svg"
          >
            <path
              d="M13.738 19.8804C13.5486 20.0876 13.2808 20.2056 13 20.2056C12.7192 20.2056 12.4514 20.0876 12.262 19.8804L6.92864 14.0471C6.55597 13.6395 6.5843 13.007 6.9919 12.6343C7.3995 12.2616 8.03203 12.2899 8.4047 12.6975L12 16.6299V1.87231C12 1.32003 12.4477 0.872314 13 0.872314C13.5523 0.872314 14 1.32003 14 1.87231V16.6299L17.5953 12.6975C17.968 12.2899 18.6005 12.2616 19.0081 12.6343C19.4157 13.007 19.444 13.6395 19.0714 14.0471L13.738 19.8804Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
            <path
              d="M2 17.8723C2 17.32 1.55229 16.8723 1 16.8723C0.447717 16.8723 7.06692e-07 17.32 7.06692e-07 17.8723V17.9455C-2.62347e-05 19.7689 -4.79519e-05 21.2387 0.155366 22.3946C0.316721 23.5948 0.661913 24.6053 1.46447 25.4078C2.26702 26.2104 3.27752 26.5556 4.47767 26.7169C5.63363 26.8724 7.10339 26.8723 8.92684 26.8723H17.0732C18.8966 26.8723 20.3664 26.8724 21.5223 26.7169C22.7225 26.5556 23.733 26.2104 24.5355 25.4078C25.3381 24.6053 25.6833 23.5948 25.8446 22.3946C26.0001 21.2387 26 19.7689 26 17.9455V17.8723C26 17.32 25.5523 16.8723 25 16.8723C24.4477 16.8723 24 17.32 24 17.8723C24 19.7862 23.9979 21.121 23.8625 22.1282C23.7309 23.1065 23.4903 23.6246 23.1213 23.9936C22.7523 24.3627 22.2342 24.6032 21.2558 24.7348C20.2487 24.8702 18.9139 24.8723 17 24.8723H9C7.08611 24.8723 5.7513 24.8702 4.74416 24.7348C3.7658 24.6032 3.2477 24.3627 2.87868 23.9936C2.50966 23.6246 2.26907 23.1065 2.13753 22.1282C2.00213 21.121 2 19.7862 2 17.8723Z"
              fill="#FFFFFF80"
              fillOpacity="0.4"
            />
          </svg>
        ),
        iconNotActive: (
          <svg
            width="34"
            height="24"
            viewBox="0 0 26 27"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.738 19.8807C13.5486 20.0879 13.2808 20.2059 13 20.2059C12.7192 20.2059 12.4514 20.0879 12.262 19.8807L6.92864 14.0473C6.55597 13.6397 6.5843 13.0072 6.9919 12.6345C7.3995 12.2619 8.03203 12.2902 8.4047 12.6978L12 16.6302V1.87256C12 1.32027 12.4477 0.872559 13 0.872559C13.5523 0.872559 14 1.32027 14 1.87256V16.6302L17.5953 12.6978C17.968 12.2902 18.6005 12.2619 19.0081 12.6345C19.4157 13.0072 19.444 13.6397 19.0714 14.0473L13.738 19.8807Z"
              fill="#A8E543"
            />
            <path
              d="M2 17.8726C2 17.3203 1.55229 16.8726 1 16.8726C0.447717 16.8726 7.06692e-07 17.3203 7.06692e-07 17.8726V17.9457C-2.62347e-05 19.7692 -4.79519e-05 21.2389 0.155366 22.3949C0.316721 23.595 0.661913 24.6055 1.46447 25.4081C2.26702 26.2106 3.27752 26.5558 4.47767 26.7172C5.63363 26.8726 7.10339 26.8726 8.92684 26.8726H17.0732C18.8966 26.8726 20.3664 26.8726 21.5223 26.7172C22.7225 26.5558 23.733 26.2106 24.5355 25.4081C25.3381 24.6055 25.6833 23.595 25.8446 22.3949C26.0001 21.2389 26 19.7692 26 17.9457V17.8726C26 17.3203 25.5523 16.8726 25 16.8726C24.4477 16.8726 24 17.3203 24 17.8726C24 19.7864 23.9979 21.1213 23.8625 22.1284C23.7309 23.1068 23.4903 23.6249 23.1213 23.9939C22.7523 24.3629 22.2342 24.6035 21.2558 24.735C20.2487 24.8704 18.9139 24.8726 17 24.8726H9C7.08611 24.8726 5.7513 24.8704 4.74416 24.735C3.7658 24.6035 3.2477 24.3629 2.87868 23.9939C2.50966 23.6249 2.26907 23.1068 2.13753 22.1284C2.00213 21.1213 2 19.7864 2 17.8726Z"
              fill="#A8E543"
            />
          </svg>
        ),

        label: 'All Documents',
        route: '/admin/all-documents',
      },
      {
        icon: (
          <svg
            width="32"
            height="18"
            viewBox="0 0 28 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16.6667 0.205566H11.3333C6.30502 0.205566 3.79086 0.205566 2.22877 1.76766C1.10404 2.89238 0.78913 4.51066 0.700957 7.20557H27.299C27.2109 4.51066 26.896 2.89238 25.7712 1.76766C24.2091 0.205566 21.695 0.205566 16.6667 0.205566Z"
              fill="#FFFFFF80"
            />
            <path
              d="M11.3333 21.5389H16.6667C21.695 21.5389 24.2091 21.5389 25.7712 19.9768C27.3333 18.4147 27.3333 15.9005 27.3333 10.8722C27.3333 10.283 27.3333 9.72827 27.3308 9.20557H0.669182C0.666668 9.72827 0.666668 10.283 0.666668 10.8722C0.666668 15.9005 0.666668 18.4147 2.22877 19.9768C3.79086 21.5389 6.30502 21.5389 11.3333 21.5389Z"
              fill="#FFFFFF80"
            />
            <path
              d="M5 16.2056C5 15.6533 5.44772 15.2056 6 15.2056H11.3333C11.8856 15.2056 12.3333 15.6533 12.3333 16.2056C12.3333 16.7579 11.8856 17.2056 11.3333 17.2056H6C5.44772 17.2056 5 16.7579 5 16.2056Z"
              fill="white"
            />
            <path
              d="M13.6667 16.2056C13.6667 15.6533 14.1144 15.2056 14.6667 15.2056H16.6667C17.219 15.2056 17.6667 15.6533 17.6667 16.2056C17.6667 16.7579 17.219 17.2056 16.6667 17.2056H14.6667C14.1144 17.2056 13.6667 16.7579 13.6667 16.2056Z"
              fill="white"
            />
          </svg>
        ),
        iconNotActive: (
          <svg
            width="32"
            height="18"
            viewBox="0 0 28 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16.6667 0.206055H11.3333C6.30502 0.206055 3.79086 0.206055 2.22876 1.76815C1.10404 2.89287 0.789128 4.51115 0.700955 7.20605H27.299C27.2109 4.51115 26.896 2.89287 25.7712 1.76815C24.2091 0.206055 21.695 0.206055 16.6667 0.206055Z"
              fill="#A8E543"
            />
            <path
              d="M11.3333 21.5394H16.6667C21.695 21.5394 24.2091 21.5394 25.7712 19.9773C27.3333 18.4152 27.3333 15.901 27.3333 10.8727C27.3333 10.2835 27.3333 9.72876 27.3308 9.20605H0.66918C0.666666 9.72876 0.666666 10.2835 0.666666 10.8727C0.666666 15.901 0.666666 18.4152 2.22876 19.9773C3.79086 21.5394 6.30502 21.5394 11.3333 21.5394Z"
              fill="#A8E543"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M5 16.2061C5 15.6538 5.44771 15.2061 6 15.2061H11.3333C11.8856 15.2061 12.3333 15.6538 12.3333 16.2061C12.3333 16.7583 11.8856 17.2061 11.3333 17.2061H6C5.44771 17.2061 5 16.7583 5 16.2061Z"
              fill="black"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M13.6667 16.2061C13.6667 15.6538 14.1144 15.2061 14.6667 15.2061H16.6667C17.219 15.2061 17.6667 15.6538 17.6667 16.2061C17.6667 16.7583 17.219 17.2061 16.6667 17.2061H14.6667C14.1144 17.2061 13.6667 16.7583 13.6667 16.2061Z"
              fill="black"
            />
          </svg>
        ),
        label: 'Payments',
        route: '/admin/payments',
      }
    ],
  },
]

const Sidebar = ({ sidebarOpen, setSidebarOpen }: SidebarProps) => {
  const [pageName, setPageName] = useLocalStorage('selectedMenu', 'dashboard')

  useEffect(() => {
    document.title = `${pageName} | Snap&Trace`
  }, [pageName])

  return (
      <aside
        className={`fixed left-5 top-0 rounded-xl flex z-40  2xl:h-[85vh] h-[90vh] w-64 flex-col duration-300 ease-linear bg-[#1D1D23] mt-20 mb-40 ${sidebarOpen ? 'translate-x-0' : '-translate-x-full'
          }`}
      >
        {/* <div className='flex justify-end relative'>
          <button
            onClick={() => setSidebarOpen(!sidebarOpen)}
            className="transition-all duration-200 absolute top-4 -right-3 z-[999]"
          >
            {sidebarOpen ? <IoIosArrowDropleftCircle fill='#A8E543' size={27} /> : <IoIosArrowDroprightCircle  fill='#A8E543' size={27}/>
          }
          </button>
        </div> */}
       
        <div className="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
          <nav className="mt-5 py-4">
            {menuGroups.map((group, groupIndex) => (
              <div key={groupIndex}>
                <ul className="mb-6 flex flex-col gap-1.5">
                  {group.menuItems.map((menuItem, menuIndex) => (
                    <SidebarItem
                      key={menuIndex}
                      item={menuItem}
                      pageName={pageName}
                      setPageName={setPageName}
                    />
                  ))}
                </ul>
              </div>
            ))}
          </nav>
        </div>

      </aside>
  )
}

export default Sidebar
